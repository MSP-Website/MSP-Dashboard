<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Upload Input</title>
    <link rel="stylesheet" href="test.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    
</head>
<body>
    <!-- <div class="popUp-gallery">
        <div class="form">
            <div class="title-popUp">
                <span>Add</span>
                <i class="fa-solid fa-x"></i>
            </div>
            <div class="inputs-form">
                <form>
                     <div class="select-menu">
                        <div class="select-btn">
                            <span class="sBtn-text">Name Section-*</span>
                            <i class="bx bx-chevron-down"></i>
                        </div>
                        <ul class="options">
                            <li class="option">
                                <span class="option-text">Events</span>
                            </li>
                            <li class="option">
                                <span class="option-text">Sessions</span>
                            </li>
                        </ul>
                    </div>
                    <div class="custom-btn-upload">
                        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="20" viewBox="0 0 10 20" fill="none">
                            <path d="M5 14C5.26522 14 5.51957 13.8946 5.70711 13.7071C5.89464 13.5196 6 13.2652 6 13L6 7C6 6.73478 5.89464 6.48043 5.70711 6.29289C5.51957 6.10536 5.26522 6 5 6C4.73478 6 4.48043 6.10536 4.29289 6.29289C4.10536 6.48043 4 6.73478 4 7L4 13C4 13.2652 4.10536 13.5196 4.29289 13.7071C4.48043 13.8946 4.73478 14 5 14ZM8 12L8 15C8 15.7956 7.68393 16.5587 7.12132 17.1213C6.55871 17.6839 5.79565 18 5 18C4.20435 18 3.44129 17.6839 2.87868 17.1213C2.31607 16.5587 2 15.7956 2 15L2 12C2 11.7348 1.89464 11.4804 1.70711 11.2929C1.51957 11.1054 1.26522 11 1 11C0.734783 11 0.480429 11.1054 0.292893 11.2929C0.105357 11.4804 -3.61284e-07 11.7348 -3.49691e-07 12L-2.18557e-07 15C-1.60592e-07 16.3261 0.526784 17.5979 1.46447 18.5355C2.40215 19.4732 3.67392 20 5 20C6.32608 20 7.59785 19.4732 8.53553 18.5355C9.47322 17.5979 10 16.3261 10 15L10 12C10 11.7348 9.89464 11.4804 9.70711 11.2929C9.51957 11.1054 9.26522 11 9 11C8.73478 11 8.48043 11.1054 8.29289 11.2929C8.10536 11.4804 8 11.7348 8 12ZM-6.55671e-07 5L-5.24537e-07 8C-5.12944e-07 8.26522 0.105357 8.51957 0.292893 8.70711C0.480429 8.89464 0.734783 9 1 9C1.26522 9 1.51957 8.89464 1.70711 8.70711C1.89464 8.51957 2 8.26522 2 8L2 5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2C5.79565 2 6.55871 2.31607 7.12132 2.87868C7.68393 3.44129 8 4.20435 8 5L8 8C8 8.26522 8.10536 8.51957 8.29289 8.70711C8.48043 8.89464 8.73478 9 9 9C9.26522 9 9.51957 8.89464 9.70711 8.70711C9.89464 8.51957 10 8.26522 10 8L10 5C10 3.67392 9.47322 2.40215 8.53553 1.46447C7.59785 0.526785 6.32608 -2.76522e-07 5 -2.18557e-07C3.67392 -1.60592e-07 2.40215 0.526785 1.46447 1.46447C0.526783 2.40215 -7.13636e-07 3.67392 -6.55671e-07 5Z" fill="#7B1D80"/>
                            </svg>
                            <span>Upload Image-*</span>
                            <button>Upload</button>
                            <input type="file" id="image-upload">
                    </div>
                </form>
            </div>
        </div>
      </div> -->
      <!-- <form action="./index.html">
        <h1>login</h1>
        <input type="text" minlength="3" required>
        <input type="password" maxlength="8" required>
        <input type="submit" value="send">
      </form> -->
      <form id="login-form">
        <input type="email" id="signin-email" placeholder="Email">
        <input type="password" id="signin-password" placeholder="Password">
        <button type="submit" id="signin-btn-submit">Login</button>
    </form>
    <div id="form-messages"></div>
<script>
    const form = {
    email: document.querySelector("#signin-email"),
    password: document.querySelector("#signin-password"),
    submit: document.querySelector("#signin-btn-submit"),
    messages: document.getElementById("form-messages"),
};

form.submit.addEventListener("click", async (e) => {
    e.preventDefault();

    const loginApiUrl = "http://24.199.127.212:3000/admin/login"; // Replace with your API endpoint

    try {
        const response = await fetch(loginApiUrl, {
            method: "POST",
            headers: {
                "Accept": "application/json",
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                email: "msp.alazhar@gmail.com",
                password: "webDash#24",
            }),
            redirect: "follow",
        });

        const data = await response.json();

        if (data.error) {
            // Display error message
            form.messages.innerHTML = data.error;
        } else {
            // Redirect to the main page (replace 'target.html' with your desired page)
            window.location.href = "./index.html";
        }
    } catch (err) {
        console.error(err);
        form.messages.innerHTML = "An error occurred. Please try again later.";
    }
});

</script>    
      <script src="./test.js"></script>
      <script src="https://kit.fontawesome.com/9e1cfffd14.js" crossorigin="anonymous"></script>
    </body>
</html>
